{"name":"Visionary-pintask-plugin","tagline":"Expand or collapse all cards in a list","body":"Visionary plugin for Pintask\r\n=========================\r\n\r\nExpand or collapse all cards in a list on [Pintask](http://pintask.me/), the hackable task tracker.\r\n\r\nThis versatile plugin is only a couple lines of code:\r\n\r\n```coffee\r\ninsertLink = ($listHeaderQuickIcons) ->\r\n  $link = $(\"<div class='expand-collapse-all-cards icon-list' title='Expand or collapse all cards in this list'></div>\")\r\n  $link.on(\"click\", clickListener)\r\n  $listHeaderQuickIcons.prepend($link)\r\n\r\nclickListener = (event) ->\r\n  listId = $(event.target).closest(\".board-list\").attr(\"data-id\")\r\n  firstCard = Cards.findOne({listId: listId}, {sort: {position: 1}})\r\n  if !firstCard\r\n    return\r\n  shouldOpen = !Session.get(firstCard.htmlId() + \"-is-open\")\r\n  Cards.find({listId: listId}).forEach (card) ->\r\n    Session.set(card.htmlId() + \"-is-open\", shouldOpen)\r\n\r\nTemplate.listHeader.rendered = _.compose(->\r\n  insertLink($(@find(\".board-list-header .quick-icons\")))\r\n, Template.listHeader.rendered)\r\n\r\nMeteor.startup ->\r\n  insertLink($(\".board-list-header .quick-icons\"))\r\n```\r\n\r\n_This plugin is written in [CoffeeScript](http://coffeescript.org/). Plain old [JS version](https://github.com/DenisGorbachev/visionary-pintask-plugin/blob/master/plugin.js) is available, too._\r\n\r\nSo easy to make your own plugin ;)\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}